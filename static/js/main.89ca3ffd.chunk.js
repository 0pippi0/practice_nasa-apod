(this["webpackJsonpnasa-apod"]=this["webpackJsonpnasa-apod"]||[]).push([[0],{118:function(e,a,t){},119:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(29),i=t.n(c),o=t(10),l=t.n(o),s=t(30),u=t(31),d=t(32),m=t(39),v=t(33),p=t(40),f=t(34),g=t.n(f),h=t(6),w=t.n(h),E=w.a.bind(g.a),y=function(e){var a=e.viewer,t=e.spaceNavigator;return r.a.createElement("div",{className:E("viewer-template")},r.a.createElement("header",null,"Astronomy Picture of the Day"),r.a.createElement("div",{className:E("viewer-wrapper")},a,r.a.createElement("div",{className:E("space-navigator-wrapper")},t)))},b=t(35),N=t.n(b),D=t(12),k=w.a.bind(N.a),x=function(e){var a=e.onPrev,t=e.onNext;return r.a.createElement("div",{className:k("space-navigator")},r.a.createElement("div",{className:k("left","end")},r.a.createElement("div",{className:k("circle"),onClick:a},r.a.createElement(D.a,null))),r.a.createElement("div",{className:k("right","end")},r.a.createElement("div",{className:k("circle"),onClick:t},r.a.createElement(D.b,null))))},O=t(36),P=t.n(O),Y=t(37),j=w.a.bind(P.a),A=function(e){var a=e.mediaType,t=e.url;return e.loading?r.a.createElement("div",{className:j("viewer")},r.a.createElement(Y.ChasingDots,{color:"white",size:60})):t?r.a.createElement("div",{className:j("viewer")},"image"===a?r.a.createElement("img",{onClick:function(){return window.open(t)},src:t,alt:"space"}):r.a.createElement("iframe",{title:"space-video",src:t,frameBorder:"0",gesture:"media",allow:"encrypted-media",allowFullScreen:!0})):null},C=t(11),S=t.n(C),T=t(38),M=t.n(T);function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return M.a.get("https://api.nasa.gov/planetary/apod?api_key=isuJgZVLOc8YFOC7FGF4wi7ZCoXsHUSp1pOaAjs7&date=".concat(e))}var B=function(e){function a(){var e,t;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(m.a)(this,(e=Object(v.a)(a)).call.apply(e,[this].concat(r)))).state={loading:!1,maxDate:null,date:null,url:null,mediaType:null},t.getAPOD=function(){var e=Object(s.a)(l.a.mark((function e(a){var n,r,c,i,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.state.loading){e.next=2;break}return e.abrupt("return");case 2:return t.setState({loading:!0}),e.prev=3,e.next=6,F(a);case 6:n=e.sent,r=n.data,c=r.date,i=r.url,o=r.media_Type,t.state.maxDate||t.setState({maxDate:c}),t.setState({date:c,mediaType:o,url:i}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.log(e.t0);case 15:t.setState({loading:!1});case 16:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(a){return e.apply(this,arguments)}}(),t.handlePrev=function(){var e=t.state.date,a=S()(e).subtract(1,"days").format("YYYY-MM-DD");console.log(a),t.getAPOD(a)},t.handleNext=function(){var e=t.state,a=e.date;if(a!==e.maxDate){var n=S()(a).add(1,"days").format("YYYY-MM-DD");t.getAPOD(n)}},t}return Object(p.a)(a,e),Object(d.a)(a,[{key:"componentDidMount",value:function(){this.getAPOD()}},{key:"render",value:function(){var e=this.state,a=e.url,t=e.mediaType,n=e.loading,c=this.handlePrev,i=this.handleNext;return r.a.createElement(y,{spaceNavigator:r.a.createElement(x,{onPrev:c,onNext:i}),viewer:r.a.createElement(A,{url:a,mediaType:t,loading:n})})}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(118);i.a.render(r.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},34:function(e,a,t){},35:function(e,a,t){},36:function(e,a,t){},41:function(e,a,t){e.exports=t(119)}},[[41,1,2]]]);
//# sourceMappingURL=main.89ca3ffd.chunk.js.map